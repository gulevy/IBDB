<h1>{{title}}</h1>

    <table class="table table-striped">
	<tr>
	    <th>Picture</th>
		<th>Name</th>
		<th>authour_id</th>
		<th>category</th>
		<th>publisher_name</th>
		<th>book_abstract</th>
		<th>Detail</th>
		<th>Action</th>
	</tr>
	<tr ng-repeat="book in books | filter:searchText">
	    <td>
		   <div class="col-xs-1 col-md-3">
		    <a href="../../assets/images/books/{{book.imageName}}" class="thumbnail">
		    <img ng-src="../../assets/images/books/{{book.imageName}}">
		    </a>
		  </div>
		</td>
		<td>
		   {{book.name}}
		</td>
		<td>
		   {{book.authourId}}
		</td>
	    <td>
	       {{book.categoryName}}
	    </td>	
		
		<td>
		   {{book.publisherName}}
		</td>
		<td>
		    {{book.bookAbstract}}
		</td>
		<td>
		   <!-- <a ui-sref="book.details({id: book.bookId})">Details</a> !-->
		</td>
		<td>
		<button type="button" class="btn btn-danger" ng-click="removeBook(book.bookId)">
		    <span class="glyphicon glyphicon-remove-sign"></span> remove
		 </button>
		
		<button type="button" class="btn btn-primary"  ng-click="toggle('edit', book.bookId)">
		    <span class="glyphicon glyphicon-edit"></span> edit
		 </button>
	
		</td>
	</tr>
</table>


<div>
<input type="button" value="Add new Book" class="btn btn-primary" ng-click="toggle('add', 0)"/>
</div>



<div ui-view></div>

<!-- Modal (Pop up when detail button clicked) -->
            <div class="modal fade" id="bookModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">ª</span></button>
                            <h4 class="modal-title" id="myModalLabel">{{form_title}}</h4>
                        </div>
                        <div class="modal-body">
                        
                            <form name="books" class="form-horizontal" novalidate="" enctype="multipart/form-data">
                         
           						
           				    <div class="form-group error">
                                 <label for="inputEmail3" class="col-sm-3 control-label">Book photo</label>
                                 
                                
                                 
                                 <div class="col-sm-9">
                                        <input type="file"  file-model="book.file">
                                       
                                 </div>
                            </div>
                            
							 <div class="form-group error">
                                    <label for="inputEmail3" class="col-sm-3 control-label">book id</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control has-error" id="bookId" name="bookId" placeholder="book id" value="{{$scope.book.bookId}}" 
                                        ng-model="book.bookId" ng-required="true">
                                        <span class="help-inline" 
                                        ng-show="book.bookId.$invalid && book.bookId.$touched">book id field is required</span>
                                    </div>
                                </div>


                                <div class="form-group error">
                                    <label for="inputEmail3" class="col-sm-3 control-label">Name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control has-error" id="name" name="name" placeholder="Fullname" value="{{$scope.book.name}}" 
                                        ng-model="book.name" ng-required="true">
                                        <span class="help-inline" 
                                        ng-show="book.name.$invalid && book.name.$touched">Name field is required</span>
                                    </div>
                                </div>
                                
                                
                                <div class="form-group error">
                                    <label for="inputEmail3" class="col-sm-3 control-label">Category Name</label>
                                    
                                    <select ng-model="$scope.categories" ng-options="item.name for item in categories" style="width:150px"></select>
                                      <span class="help-inline" 
                                        ng-show="book.name.$invalid && book.name.$touched">Name field is required</span>
                              
                                </div>
                                
                                
                                
                                
                                  <div class="form-group error">
                                    <label for="inputEmail3" class="col-sm-3 control-label">Authour_id</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control has-error" id="authourId" name="authourId" placeholder="authourId" value="{{$scope.book.authourId}}" 
                                        ng-model="book.authourId" ng-required="true">
                                        <span class="help-inline" 
                                        ng-show="book.authourId.$invalid && book.authourId.$touched">Authour id field is required</span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-3 control-label">publisher name</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="contact_number" name="publisherName" placeholder="publisherName" value="{{$scope.book.publisherName}}" 
                                        ng-model="book.publisherName" ng-required="true">
                                    <span class="help-inline" 
                                        ng-show="book.publisherName.$invalid && book.publisherName.$touched">publisher name field is required</span>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-3 control-label">book abstract</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control" id="bookAbstract" name="bookAbstract" placeholder="bookAbstract" value="{{$scope.book.bookAbstract}}" 
                                        ng-model="book.bookAbstract" ng-required="true">
                                    <span class="help-inline" 
                                        ng-show="book.bookAbstract.$invalid && book.bookAbstract.$touched">book abstract field is required</span>
                                    </div>
                                </div>

                            </form>
                            
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary" id="btn-save" ng-click="save($scope.modalstate, id)" ng-disabled="book.$invalid">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
        </div> 