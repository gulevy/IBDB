	<div>
		<button type="button" class="btn btn-info" ng-click="changeView('/proposalRegister')">
		 <span class="glyphicon glyphicon-plus"></span> Add new Proposal
		</button>
	</div>
	
	<br></br>
  <ul class="nav nav-tabs">
    <li class="active"><a data-toggle="tab" ng-click="getMyProposals('all')">All proposal</a></li>
    <li><a data-toggle="tab" ng-click="getMyProposals('accepted')">Accepted proposal</a></li>
    <li><a data-toggle="tab" ng-click="getMyProposals('denied')" >Denied proposal</a></li>
    <li><a data-toggle="tab" ng-click="getMyProposals('pending')">pending proposal</a></li>
  </ul>

  <div class="tab-content">
    <div id="menu1" class="tab-pane fade in active">
	      <table class="table table-striped">
		<tr>
		    <th>Book Name</th>
			<th>Author First Name</th>
			<th>Author Last Name</th>
			<th>Last update</th>
			<th>Current Status</th>
			<th>User</th>
			<th>Action</th>
		</tr>
		<tr ng-repeat="proposal in proposals | filter:searchText  | orderBy:'proposalDate' "> 
			<td>
			   {{proposal.book.name}}
			</td>
			<td>
			   {{proposal.book.author.firstName}} 
			</td>
		    <td>
		       {{proposal.book.author.lastName}}
		    </td>
		    
		    <td>
		       {{proposal.stateHistory[0].proposalDate}}
		    </td>		
			
			<td>
			   {{proposal.stateHistory[0].proposalStatus}}
			</td>
			
			<td>
			   {{proposal.user.userName}}
			</td>
	
			<td>
			
			 <button type="button" class="btn btn-success"  popover-placement="bottom" uib-popover="Accept proposal" popover-trigger="mouseenter" ng-show="user.userType == 'administrator' " ng-disabled="proposal.stateHistory[0].proposalStatus == 'approved'" ng-click="approveProposal(proposal.proposalId)">
			    <span class="glyphicon glyphicon-ok"></span>
			 </button>
			 
			<button type="button" class="btn btn-warning" popover-placement="bottom" uib-popover="Deny proposal" popover-trigger="mouseenter" ng-show="user.userType == 'administrator' "  ng-disabled="proposal.stateHistory[0].proposalStatus == 'denied'" ng-click="denyProposal(proposal.proposalId)">
			    <span class="glyphicon glyphicon-remove-sign"></span>
			 </button>
			 
			 <button type="button" class="btn btn-info" popover-placement="bottom" uib-popover="Information is missing" popover-trigger="mouseenter" ng-show="user.userType == 'administrator' " ng-click="infoProposal(proposal.proposalId)">
			 	<i class="fa fa-info" aria-hidden="true"> </i>
			 </button>
			 	
			<button type="button" class="btn btn-primary" popover-placement="bottom" uib-popover="Edit proposal" popover-trigger="mouseenter" ng-show="user.userName==proposal.user.userName || user.userType == 'administrator' " ng-disabled="user.userType != 'administrator' && (proposal.stateHistory[0].proposalStatus == 'denied' || proposal.stateHistory[0].proposalStatus == 'approved')" ng-click="changeView('/proposal/edit/{{proposal.proposalId}}')">
			    <span class="glyphicon glyphicon-edit"></span> 
			 </button>
			 
			 <button type="button" class="btn btn-danger" popover-placement="bottom" uib-popover="Remove proposal" popover-trigger="mouseenter"  ng-show="user.userName==proposal.user.userName || user.userType == 'administrator'" ng-disabled="user.userType != 'administrator' && (proposal.stateHistory[0].proposalStatus == 'denied' || proposal.stateHistory[0].proposalStatus == 'approved')" ng-click="removeProposal(proposal.proposalId)">
			    <span class="glyphicon glyphicon-remove-sign"></span>
			 </button>
			 
			 <button type="button" class="btn btn-info" popover-placement="bottom" uib-popover="Show proposal states history" popover-trigger="mouseenter" ng-show="user.userName==proposal.user.userName || user.userType == 'administrator'" ng-click="changeView('/proposalsHistory/{{proposal.proposalId}}')">
			 	<i class="fa fa-archive" aria-hidden="true"> </i>
			 </button>
			 
			 	
			</td>
		</tr>
	</table>
    </div>
    <div id="menu2" class="tab-pane fade">
      <h3>Menu 1</h3>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
    </div>
    <div id="menu3" class="tab-pane fade">
      <h3>Menu 2</h3>
      <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
    </div>
    <div id="menu4" class="tab-pane fade">
      <h3>Menu 3</h3>
      <p>Eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
    </div>
  </div>

